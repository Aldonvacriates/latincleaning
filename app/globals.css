@tailwind base;
@tailwind components;
@tailwind utilities;

/* Root variables and app-wide tokens */
:root {
  --primary: #a8cde7;
  --navy: #1e293b;
  --accent1: #f48fb1;
  --accent2: #90caf9;
  --accent3: #ffb74d;
  --white: #ffffff;
  --light-gray: rgba(2, 6, 23, 0.08);
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.04);
  --shadow-hover: 0 8px 20px rgba(0, 0, 0, 0.1), 0 2px 6px rgba(0, 0, 0, 0.05);
  --header-h-mobile: 56px;
  --header-h-desktop: 68px;
  --header-h: var(--header-h-mobile);
  --header-height: var(--header-h);
  --header-offset: var(--header-height);

  /* Hero theme variables (light by default) */
  --hero-overlay: linear-gradient(90deg, rgba(255,255,255,.78) 0%, rgba(255,255,255,.54) 30%, rgba(255,255,255,.28) 60%, rgba(255,255,255,0) 100%);
  --hero-wipe: linear-gradient(90deg, rgba(255,255,255,0.85) 0%, rgba(255,255,255,0.6) 45%, rgba(255,255,255,0.25) 75%, rgba(255,255,255,0) 100%);
  --hero-card-bg: rgba(255,255,255,0.88);
  --hero-card-border: rgba(2,6,23,0.12);
  --hero-card-shadow: 0 12px 26px rgba(2,6,23,0.12);
  --hero-pill-bg: var(--accent1);
  --hero-pill-text: #0b1220;
  --cta-secondary-bg: #ffffff;
  --cta-secondary-text: #0b1220;
  --cta-secondary-border: rgba(2,6,23,0.12);
  --cta-secondary-hover: #f8fafc;
}
@media (min-width: 768px){ :root{ --header-h: var(--header-h-desktop); } }

/* System dark mode variables */
  @media (prefers-color-scheme: dark) {
    :root {
    --primary: #0b1220;
    --navy: #e6edf3;
    --light-gray: rgba(248, 250, 252, 0.14);
    --shadow: 0 1px 0 rgba(248,250,252,0.06), 0 6px 22px rgba(2,6,23,0.6);
    --shadow-hover: 0 1px 0 rgba(248,250,252,0.08), 0 10px 28px rgba(2,6,23,0.7);

    /* Hero (dark) */
    --hero-overlay: linear-gradient(90deg, rgba(10, 15, 25, .88) 0%, rgba(10, 15, 25, .72) 30%, rgba(10, 15, 25, .48) 60%, rgba(10, 15, 25, .20) 100%);
    --hero-wipe: linear-gradient(90deg, rgba(10,15,25,0.9) 0%, rgba(10,15,25,0.75) 45%, rgba(10,15,25,0.35) 75%, rgba(10,15,25,0) 100%);
    --hero-card-bg: rgba(15,23,42,0.64);
    --hero-card-border: rgba(248,250,252,0.12);
    --hero-card-shadow: 0 12px 30px rgba(2,6,23,.55);
    --hero-pill-text: #e6edf3;
    --cta-secondary-bg: rgba(2,6,23,0.85);
    --cta-secondary-text: #e6edf3;
    --cta-secondary-border: rgba(248,250,252,0.12);
    --cta-secondary-hover: rgba(2,6,23,0.92);
  }
}

/* Basic layout defaults to mimic previous reset */
html, body { @apply overflow-x-hidden; }
body { @apply text-navy bg-primary leading-relaxed; }
/* Prevent iOS Safari from auto-enlarging text after load */
html { -webkit-text-size-adjust: 100%; text-size-adjust: 100%; }
/* Improve scrolling/panning on mobile */
html, body { touch-action: pan-y; overscroll-behavior-x: none; }
/* Smooth scroll and header offset for in-page anchors */
:root { scroll-behavior: smooth; }
section[id]{ scroll-margin-top: var(--header-offset) !important; }
/* Prevent background scroll when mobile nav is open */
body.is-locked { overflow: hidden; }
img, video, svg{ max-width: 100%; height: auto; }

/* Fixed header and layout offset */
.site-header{ position: fixed; top: 0; left: 0; right: 0; width: 100%; max-width: 100vw; z-index: 1000; }
body{ padding-top: calc(var(--header-height) + env(safe-area-inset-top, 0px)) !important; }

/* Accessibility helper preserved */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0 0 0 0);
  white-space: nowrap;
  border: 0;
}

/* Mobile nav drag-to-close helpers */
.mobile-nav[data-open="true"]{ transform: translateY(var(--nav-shift, 0px)); will-change: transform; transition: transform 160ms ease-out; touch-action: none; overscroll-behavior: contain; }
.mobile-nav[data-open="true"][data-dragging="true"]{ transition: none; }
.mobile-backdrop[data-open="true"]{ overscroll-behavior: contain; }

/* Spanish-specific nav breakpoints */
@media (min-width: 1300px) and (max-width: 1509.98px){
  html[data-lang="es"] .nav{ display: none !important; }
  html[data-lang="es"] .menu-toggle{ display: block !important; }
}
@media (min-width: 1510px){
  html[data-lang="es"] .nav{ display: flex !important; }
  html[data-lang="es"] .menu-toggle{ display: none !important; }
}

/* Manual theme override (user toggle) */
html[data-theme="dark"] { color-scheme: dark; }
html[data-theme="light"] { color-scheme: light; }
html[data-theme="dark"]{
  --primary: #0b1220;
  --navy: #e6edf3;
  --light-gray: rgba(248, 250, 252, 0.14);
  --shadow: 0 1px 0 rgba(248,250,252,0.06), 0 6px 22px rgba(2,6,23,0.6);
  --shadow-hover: 0 1px 0 rgba(248,250,252,0.08), 0 10px 28px rgba(2,6,23,0.7);
  --hero-overlay: linear-gradient(90deg, rgba(10, 15, 25, .88) 0%, rgba(10, 15, 25, .72) 30%, rgba(10, 15, 25, .48) 60%, rgba(10, 15, 25, .20) 100%);
  --hero-wipe: linear-gradient(90deg, rgba(10,15,25,0.9) 0%, rgba(10,15,25,0.75) 45%, rgba(10,15,25,0.35) 75%, rgba(10,15,25,0) 100%);
  --hero-card-bg: rgba(15,23,42,0.64);
  --hero-card-border: rgba(248,250,252,0.12);
  --hero-card-shadow: 0 12px 30px rgba(2,6,23,.55);
  --hero-pill-text: #e6edf3;
  --cta-secondary-bg: rgba(2,6,23,0.85);
  --cta-secondary-text: #e6edf3;
  --cta-secondary-border: rgba(248,250,252,0.12);
  --cta-secondary-hover: rgba(2,6,23,0.92);
}
html[data-theme="light"]{
  --primary: #a8cde7;
  --navy: #1e293b;
  --light-gray: rgba(2, 6, 23, 0.08);
  --shadow: 0 4px 12px rgba(0, 0, 0, 0.08), 0 1px 4px rgba(0, 0, 0, 0.04);
  --shadow-hover: 0 8px 20px rgba(0, 0, 0, 0.1), 0 2px 6px rgba(0, 0, 0, 0.05);
  --hero-overlay: linear-gradient(90deg, rgba(255,255,255,.65) 0%, rgba(255,255,255,.42) 30%, rgba(255,255,255,.20) 60%, rgba(255,255,255,0) 100%);
  --hero-wipe: linear-gradient(90deg, rgba(255,255,255,0.75) 0%, rgba(255,255,255,0.50) 45%, rgba(255,255,255,0.18) 75%, rgba(255,255,255,0) 100%);
  /* Even brighter glass panel */
  --hero-card-bg: rgba(255,255,255,0.44);
  --hero-card-border: rgba(2,6,23,0.08);
  --hero-card-shadow: 0 12px 24px rgba(2,6,23,0.10);
  --cta-secondary-bg: #1e293b; /* navy button in light mode */
  --cta-secondary-text: #ffffff;
  --cta-secondary-border: rgba(2,6,23,0.12);
  --cta-secondary-hover: #f8fafc;
}

/* Utility button classes to complement Tailwind, matching the shared spec */
.btn{ display:inline-block; padding:.8rem 1.2rem; border-radius:999px; text-decoration:none; font-weight:600; box-shadow: var(--shadow); transition: .2s; text-align:center; }
.btn--cta{ background: var(--accent1); color: #fff; }
.btn--primary{ background: var(--accent2); color:#0b1220; border:1px solid color-mix(in oklab, var(--accent2) 65%, black 35%); }
.btn--primary:hover, .btn--cta:hover{ filter:brightness(1.05); box-shadow: var(--shadow-hover); }
.btn--ghost{ background: transparent; border:1px solid var(--light-gray); color: var(--navy); }
.btn--pink{ background: var(--accent1); color:#fff; border: 1px solid color-mix(in oklab, var(--accent1) 70%, black 30%); box-shadow: 0 8px 20px rgba(244,143,177,.35); }
@media (prefers-color-scheme: light){ .btn--pink{ color:#0b1220; } }

/* Header CTA sizing */
.header-cta{ font-size:.85rem; padding:.45rem .85rem; line-height:1.1; border-radius:999px; white-space:nowrap; }

/* Stars helper for testimonials */
.stars{ color: var(--accent3); letter-spacing: 2px; }
/* Menu button color under manual theme override */
html[data-theme="light"] .menu-toggle{ color: #0b1220; }
html[data-theme="dark"] .menu-toggle{ color: var(--navy); }

/* Manual theme for mobile sheet/backdrop */
html[data-theme="light"] .mobile-backdrop{ background: rgba(15, 23, 42, 0.45); }
html[data-theme="dark"] .mobile-backdrop{ background: rgba(2, 6, 23, 0.6); }
html[data-theme="light"] .mobile-nav{ background: rgba(255, 255, 255, 0.95); }
html[data-theme="dark"] .mobile-nav{ background: rgba(10, 15, 25, 0.95); }

/* Reveal animation */
.reveal { opacity: 0; transform: translateY(18px); transition: opacity 0.7s ease, transform 0.7s ease; }
.reveal.is-in { opacity: 1; transform: none; }

/* Animated site background (non-disruptive custom classes) */
.site-bg{ position: fixed; inset: 0; z-index: -2; overflow: hidden; }
.site-bg__gradient, .site-bg__sparkles{ position: absolute; inset: 0; }
.site-bg__gradient{
  background:
    radial-gradient(1000px 600px at 15% 10%, rgba(255,255,255,0.55) 0%, transparent 60%),
    radial-gradient(900px 500px at 85% 25%, rgba(255,255,255,0.45) 0%, transparent 60%),
    linear-gradient(180deg, #a8cde7 0%, #90caf9 60%, #dbedfa 100%);
  animation: gradientFloat 18s ease-in-out infinite alternate;
}
@keyframes gradientFloat{ 0%{ transform: translateY(0); } 100%{ transform: translateY(-18px); } }
.site-bg__sparkles{
  background-image:
    radial-gradient(1.5px 1.5px at 10% 20%, rgba(255,255,255,0.6) 50%, transparent 51%),
    radial-gradient(1px 1px at 30% 70%, rgba(255,255,255,0.55) 50%, transparent 51%),
    radial-gradient(1px 1px at 70% 30%, rgba(255,255,255,0.45) 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 80% 80%, rgba(255,255,255,0.5) 50%, transparent 51%);
  animation: sparkleFloat 20s linear infinite;
  opacity: .4; background-repeat: no-repeat;
}
@keyframes sparkleFloat{ 0%{ transform: translateY(0); } 100%{ transform: translateY(-50px); } }
